<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'User: ' + ${user.username}">User Details</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        .header { background-color: #17a2b8; color: white; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
        .user-details { background-color: #f8f9fa; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
        .btn { padding: 10px 15px; text-decoration: none; border-radius: 5px; margin: 5px; display: inline-block; }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-warning { background-color: #ffc107; color: black; }
        .btn-danger { background-color: #dc3545; color: white; }
        .btn-secondary { background-color: #6c757d; color: white; }
        h3 { margin-top: 0; }
        .field { margin-bottom: 15px; }
        .label { font-weight: bold; color: #495057; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>User Details</h1>
    </div>

    <div class="user-details">
        <div class="field">
            <div class="label">ID:</div>
            <div th:text="${user.id}"></div>
        </div>

        <div class="field">
            <div class="label">Username:</div>
            <div th:text="${user.username}"></div>
        </div>

        <div class="field">
            <div class="label">Email:</div>
            <div th:text="${user.email}"></div>
        </div>

        <div class="field">
            <div class="label">Role:</div>
            <div th:text="${user.role != null ? user.role.name().replace('_', ' ') : 'USER'}"></div>
        </div>

        <div class="field">
            <div class="label">Password:</div>
            <div>••••••••</div> <!-- Don't show actual password -->
        </div>
    </div>

    <div>
        <a th:href="@{/users/{id}/edit(id=${user.id})}" class="btn btn-warning">Edit User</a>
        <form th:action="@{/users/{id}/delete(id=${user.id})}" method="post" style="display: inline;">
            <button type="submit" class="btn btn-danger" 
                    th:attr="onclick=${user.id == currentUser.id} ? 
                    'return confirm(\'WARNING: You are currently logged in as this user!\\n\\nDeleting your own account will immediately log you out and redirect you to the login screen.\\n\\nAre you sure you want to delete your account?\')' : 
                    'return confirm(\'Are you sure you want to delete this user?\')'">Delete User</button>
        </form>
        <a href="/users" class="btn btn-secondary">Back to List</a>
    </div>
</div>
</body>
</html>